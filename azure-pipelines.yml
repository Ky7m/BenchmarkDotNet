# https://aka.ms/yaml

trigger:
  batch: true
  branches:
    # blacklist
    exclude:
    - gh-pages

name: $(Year:yyyy).$(Month).$(DayOfMonth)$(Rev:.r)

jobs:
- template: build/azure-pipelines.job.template.yml
  parameters:
    name: Ubuntu
    vmImage: 'ubuntu-16.04'
    scriptFileName: ./build.sh

- template: build/azure-pipelines.job.template.yml
  parameters:
    name: macOS
    vmImage: 'macOS-10.13'
    scriptFileName: ./build.sh

- template: build/azure-pipelines.job.template.yml
  parameters:
    name: Windows
    vmImage: 'vs2017-win2016'
    scriptFileName: .\build.ps1
    timeoutInMinutes: 300
